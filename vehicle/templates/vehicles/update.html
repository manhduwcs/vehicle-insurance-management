{% extends "layouts/base.html" %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/style.css' %}">

<div class="container-fluid py-4">
  <div class="row">
    <div class="col-md-12 mt-4">
      <div class="card">
        <div class="card-header pb-0 px-3">
          <h4 class="mb-0">{{ vehicle.name }}</h4>
        </div>
        <div class="card-body pt-4 p-3">
          <form action="{% url 'vehicle_update' vehicle.id %}" method="post">
            {% csrf_token %}

            <!-- Name -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-tag"></i></span>
              <input type="text" name="name" class="form-control" placeholder="Name" value="{{ vehicle.name }}">
            </div>

            <!-- Customer -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-user"></i></span>
              <select name="customer" class="form-control">
                {% for cust in customers %}
                <option value="{{ cust.id }}" {% if vehicle.customer.id == cust.id %}selected{% endif %}>{{ cust.name }}</option>
                {% endfor %}
              </select>
            </div>

            <!-- Model -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-car"></i></span>
              <input type="text" name="model" class="form-control" placeholder="Model" value="{{ vehicle.model }}">
            </div>

            <!-- Vehicle Type -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-list"></i></span>
              <select name="vehicle_type" class="form-control">
                {% for vt in vehicle_types %}
                <option value="{{ vt.id }}" {% if vehicle.vehicle_type.id == vt.id %}selected{% endif %}>{{ vt.name }}</option>
                {% endfor %}
              </select>
            </div>

            <!-- Rate -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-percent"></i></span>
              <input type="number" step="0.01" name="rate" class="form-control" placeholder="Rate" value="{{ vehicle.rate }}">
            </div>

            <!-- Body Number -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-hashtag"></i></span>
              <input type="text" name="body_number" class="form-control" placeholder="Body Number" value="{{ vehicle.body_number }}">
            </div>

            <!-- Engine Number -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-cogs"></i></span>
              <input type="text" name="engine_number" class="form-control" placeholder="Engine Number" value="{{ vehicle.engine_number }}">
            </div>

            <!-- Number -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-id-card"></i></span>
              <input type="text" name="number" class="form-control" placeholder="Number" value="{{ vehicle.number }}">
            </div>

            <!-- Registration Date -->
            <div class="input-group mb-3">
              <span class="input-group-text text-body"><i class="fas fa-calendar"></i></span>
              <input type="date" name="registration_date" class="form-control" value="{{ vehicle.registration_date|date:'Y-m-d' }}">
            </div>

            <!-- Submit button -->
            <div class="text-end mt-3">
              <button type="submit" class="btn btn-primary">Update Vehicle</button>
            </div>

          </form>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock content %}
